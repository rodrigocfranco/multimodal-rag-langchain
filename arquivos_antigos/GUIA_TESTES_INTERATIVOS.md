# üß™ Guia de Testes Interativos - RAG Multimodal

## 3 Formas de Testar Seu Sistema

Criei 3 ferramentas para voc√™ testar e validar a extra√ß√£o do PDF:

---

## üîç Ferramenta 1: Inspetor de PDF (Mais R√°pido)

**Prop√≥sito**: Ver O QUE foi extra√≠do do PDF **sem processar** com IA

### Como Usar:

```bash
cd /Users/rcfranco/multimodal-rag-langchain
source venv/bin/activate

# Inspecionar o PDF
python inspecionar_pdf.py "Manejo da terapia antidiab√©tica no DM2.pdf"
```

### O Que Mostra:
- ‚úÖ N√∫mero de chunks, textos, tabelas e imagens extra√≠dos
- ‚úÖ Amostra dos primeiros 3 textos
- ‚úÖ Primeira tabela encontrada
- ‚úÖ Informa√ß√µes sobre imagens
- ‚úÖ Metadados dispon√≠veis

### Tempo: **2-5 minutos** ‚è±Ô∏è

### Exemplo de Sa√≠da:
```
üìä ESTAT√çSTICAS DO DOCUMENTO
‚úÖ Total de chunks extra√≠dos: 45
üìù Chunks de texto: 38
üìä Tabelas: 3
üñºÔ∏è  Imagens: 12

üìù AMOSTRA DE TEXTOS (primeiros 3)
‚îå‚îÄ Texto 1 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚îÇ Tipo: CompositeElement
‚îÇ P√°gina: 1
‚îÇ Tamanho: 1250 caracteres
‚îÇ
‚îÇ Conte√∫do: 
‚îÇ Manejo da terapia antidiab√©tica...
```

---

## üí¨ Ferramenta 2: Chat no Terminal (Interativo)

**Prop√≥sito**: Fazer perguntas e receber respostas **no terminal**

### Como Usar:

```bash
cd /Users/rcfranco/multimodal-rag-langchain
source venv/bin/activate

# Iniciar chat
python chat_terminal.py "Manejo da terapia antidiab√©tica no DM2.pdf"
```

### Funcionalidades:
- ‚úÖ Chat interativo com perguntas ilimitadas
- ‚úÖ Mostra fontes consultadas (textos + imagens)
- ‚úÖ Comandos especiais: `info`, `exemplos`, `sair`
- ‚úÖ Contador de perguntas

### Tempo: **5-10 minutos** (setup) + tempo de chat

### Exemplo de Uso:
```
üí¨ CHAT INTERATIVO - RAG MULTIMODAL
================================================================================

üìÑ Processando PDF: Manejo da terapia antidiab√©tica no DM2.pdf
‚è≥ Aguarde... (isso pode levar 5-10 minutos)

[... processamento ...]

‚úÖ SISTEMA PRONTO! Voc√™ pode fazer perguntas agora.
================================================================================

üí° Dicas:
  ‚Ä¢ Digite sua pergunta e pressione Enter
  ‚Ä¢ Digite 'sair' ou 'exit' para encerrar
  ‚Ä¢ Digite 'info' para ver estat√≠sticas do documento
  ‚Ä¢ Digite 'exemplos' para ver perguntas sugeridas

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

ü§î Sua pergunta: Qual √© o tema principal deste documento?

‚è≥ Processando...

ü§ñ Resposta:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
O documento trata sobre o manejo da terapia antidiab√©tica no diabetes mellitus 
tipo 2, abordando as diferentes classes de medicamentos, suas indica√ß√µes e 
crit√©rios de escolha conforme o perfil do paciente...
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

üìö Fontes: 4 textos, 1 imagens

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

ü§î Sua pergunta: info

üìä Estat√≠sticas do documento:
  ‚Ä¢ Arquivo: Manejo da terapia antidiab√©tica no DM2.pdf
  ‚Ä¢ Chunks de texto: 38
  ‚Ä¢ Tabelas: 3
  ‚Ä¢ Imagens: 12
  ‚Ä¢ Perguntas feitas: 1

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

ü§î Sua pergunta: sair

üëã Encerrando chat. At√© logo!
```

### Comandos Especiais:
- `info` ‚Üí Ver estat√≠sticas do documento
- `exemplos` ‚Üí Ver sugest√µes de perguntas
- `sair` / `exit` / `q` ‚Üí Sair do chat

---

## üåê Ferramenta 3: Interface Web com Streamlit (Mais Bonita)

**Prop√≥sito**: Interface gr√°fica **profissional** no navegador

### Instala√ß√£o (primeira vez):

```bash
cd /Users/rcfranco/multimodal-rag-langchain
source venv/bin/activate

# Instalar Streamlit
pip install streamlit
```

### Como Usar:

```bash
# Iniciar servidor web
streamlit run app_streamlit.py
```

O navegador vai abrir automaticamente em `http://localhost:8501`

### Funcionalidades:
- ‚úÖ Interface gr√°fica linda e profissional
- ‚úÖ Seletor de PDFs (todos os PDFs em content/)
- ‚úÖ Bot√£o para processar PDF
- ‚úÖ Chat com hist√≥rico de mensagens
- ‚úÖ Mostra estat√≠sticas do documento
- ‚úÖ Fontes consultadas expand√≠veis
- ‚úÖ Exemplos de perguntas na sidebar

### Tempo: **5-10 minutos** (setup) + tempo de chat

### Visual da Interface:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìÑ Chat com PDFs - RAG Multimodal                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                  ‚îÇ
‚îÇ ‚öôÔ∏è Configura√ß√µes        ‚îÇ  üí¨ Chat                             ‚îÇ
‚îÇ                          ‚îÇ                                       ‚îÇ
‚îÇ Selecione um PDF:        ‚îÇ  üìä Informa√ß√µes do Documento         ‚îÇ
‚îÇ [v] Manejo da terapia... ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇPDF ‚îÇTex ‚îÇTab ‚îÇImg ‚îÇ              ‚îÇ
‚îÇ üîÑ Processar PDF         ‚îÇ  ‚îÇ38  ‚îÇ3   ‚îÇ12  ‚îÇ    ‚îÇ              ‚îÇ
‚îÇ                          ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îÇ
‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ        ‚îÇ                                       ‚îÇ
‚îÇ                          ‚îÇ  ü§î Usu√°rio:                         ‚îÇ
‚îÇ üí° Como usar             ‚îÇ  Qual √© o tema principal?            ‚îÇ
‚îÇ 1. Selecione um PDF      ‚îÇ                                       ‚îÇ
‚îÇ 2. Clique em Processar   ‚îÇ  ü§ñ Assistente:                      ‚îÇ
‚îÇ 3. Aguarde               ‚îÇ  O documento trata sobre...          ‚îÇ
‚îÇ 4. Fa√ßa suas perguntas   ‚îÇ  üìö Fontes: 4 textos, 1 imagens     ‚îÇ
‚îÇ                          ‚îÇ                                       ‚îÇ
‚îÇ üìä Exemplos de Perguntas ‚îÇ  [Digite sua pergunta aqui...     ] ‚îÇ
‚îÇ ‚Ä¢ What is the main topic?‚îÇ                                       ‚îÇ
‚îÇ ‚Ä¢ Summarize the document ‚îÇ                                       ‚îÇ
‚îÇ ‚Ä¢ What are key findings? ‚îÇ                                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìã Compara√ß√£o das Ferramentas

| Ferramenta | Velocidade | Interface | Melhor Para |
|------------|------------|-----------|-------------|
| **Inspetor PDF** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | Terminal | Verificar extra√ß√£o r√°pida |
| **Chat Terminal** | ‚≠ê‚≠ê‚≠ê‚≠ê | Terminal | Testes r√°pidos, debugging |
| **Streamlit Web** | ‚≠ê‚≠ê‚≠ê | Navegador | Apresenta√ß√µes, uso cont√≠nuo |

---

## üéØ Fluxo de Trabalho Recomendado

### 1Ô∏è‚É£ Primeiro: Inspecionar o PDF
```bash
python inspecionar_pdf.py seu_arquivo.pdf
```
**Por qu√™?** Confirma que o PDF foi extra√≠do corretamente antes de processar com IA.

### 2Ô∏è‚É£ Segundo: Testar no Terminal
```bash
python chat_terminal.py seu_arquivo.pdf
```
**Por qu√™?** R√°pido para testar algumas perguntas e ver se as respostas fazem sentido.

### 3Ô∏è‚É£ Terceiro: Usar Interface Web
```bash
streamlit run app_streamlit.py
```
**Por qu√™?** Melhor experi√™ncia para uso prolongado e apresenta√ß√µes.

---

## üí° Dicas de Testes

### Como Validar a Extra√ß√£o:

1. **Verificar N√∫meros**
   - Textos extra√≠dos fazem sentido para o tamanho do PDF?
   - Tabelas foram detectadas?
   - Imagens foram encontradas?

2. **Perguntas de Valida√ß√£o**
   ```
   ‚Ä¢ What is the main topic? (deve identificar o tema)
   ‚Ä¢ Who are the authors? (se houver autores)
   ‚Ä¢ Summarize the introduction (teste de compreens√£o)
   ‚Ä¢ What are the key findings? (teste de an√°lise)
   ```

3. **Verificar Fontes**
   - O sistema est√° consultando m√∫ltiplas fontes?
   - Textos e imagens est√£o sendo usados?

### Perguntas por Idioma:

**Portugu√™s:**
```
‚Ä¢ Qual √© o tema principal deste documento?
‚Ä¢ Resuma os pontos principais
‚Ä¢ Quais s√£o as conclus√µes?
‚Ä¢ Explique a metodologia utilizada
```

**Ingl√™s:**
```
‚Ä¢ What is the main topic of this document?
‚Ä¢ Summarize the key points
‚Ä¢ What are the conclusions?
‚Ä¢ Explain the methodology used
```

---

## üêõ Solu√ß√£o de Problemas

### Problema: Inspetor demora muito
**Solu√ß√£o**: √â normal! PDFs grandes (>50 p√°ginas) podem demorar 5-10 minutos.

### Problema: Chat Terminal - Rate Limit Error
**Solu√ß√£o**: Aguarde 30 segundos entre perguntas ou aumente `time.sleep()` no c√≥digo.

### Problema: Streamlit n√£o abre
**Solu√ß√£o**: 
```bash
# Verificar se instalou
pip list | grep streamlit

# Reinstalar se necess√°rio
pip install streamlit

# Testar manualmente
streamlit hello
```

### Problema: PDF n√£o encontrado
**Solu√ß√£o**: 
```bash
# Verificar se o PDF est√° em content/
ls -lh content/

# Usar nome exato (com espa√ßos entre aspas)
python chat_terminal.py "nome com espa√ßos.pdf"
```

---

## üìä Exemplo Completo de Teste

### Testar PDF sobre Diabetes:

```bash
cd /Users/rcfranco/multimodal-rag-langchain
source venv/bin/activate

# 1. Inspecionar primeiro (2-5 min)
python inspecionar_pdf.py "Manejo da terapia antidiab√©tica no DM2.pdf"

# Sa√≠da esperada:
# ‚úÖ 38 chunks de texto
# ‚úÖ 3 tabelas
# ‚úÖ 12 imagens

# 2. Iniciar chat (5-10 min setup)
python chat_terminal.py "Manejo da terapia antidiab√©tica no DM2.pdf"

# Fazer perguntas:
ü§î Sua pergunta: Quais s√£o as classes de antidiab√©ticos mencionados?
ü§î Sua pergunta: Qual √© a recomenda√ß√£o para metformina?
ü§î Sua pergunta: info
ü§î Sua pergunta: sair

# 3. Interface web (opcional)
pip install streamlit  # se ainda n√£o instalou
streamlit run app_streamlit.py

# Selecionar PDF na sidebar
# Clicar em "Processar PDF"
# Fazer perguntas no chat
```

---

## üöÄ Pr√≥ximos Passos

Ap√≥s validar que tudo funciona:

1. **Teste com seus PDFs**: Copie PDFs para `content/` e teste
2. **Ajuste par√¢metros**: Veja `COMO_USAR_OUTROS_PDFS.md`
3. **Personalize perguntas**: Crie perguntas espec√≠ficas para seu dom√≠nio
4. **Salve o vectorstore**: Adicione persist√™ncia para n√£o reprocessar

---

## ‚ùì FAQ

**Q: Qual ferramenta usar para testes r√°pidos?**  
R: Use o **Inspetor PDF** primeiro, depois **Chat Terminal**.

**Q: Qual √© a melhor para demonstra√ß√µes?**  
R: **Streamlit** - interface profissional no navegador.

**Q: Posso usar em portugu√™s?**  
R: Sim! Todas as ferramentas funcionam em qualquer idioma.

**Q: Quanto custa por pergunta?**  
R: ~$0.01 a $0.05 dependendo do tamanho do contexto.

**Q: Posso fazer perguntas ilimitadas?**  
R: Sim! Mas respeite os rate limits das APIs.

---

## üéì Recursos Adicionais

- **Documenta√ß√£o completa**: `README.md`
- **Processar m√∫ltiplos PDFs**: `COMO_USAR_OUTROS_PDFS.md`
- **Testes de instala√ß√£o**: `python test_installation.py`

---

**Comece agora testando com o Inspetor de PDF! üöÄ**

```bash
python inspecionar_pdf.py "Manejo da terapia antidiab√©tica no DM2.pdf"
```

